"use strict";var input="\nDeserto\nMaria Marçal\n\nEu não preciso transformar\nPedras em pães para provar\nQue no deserto Tu estás\nCuidando de mim\n\nDe um lugar alto não vou me lançar\nSó pra demonstrar o Teu poder\nEu não preciso ver fenômenos para crer em Ti\n\nNão troco nossa comunhão\nPelo prazer de conquistar\nPalácios, riquezas\nComo um deserto, isso vai passar\n\nPor isso resistindo estou\nE quando a minha força se esgotar\nO Teu anjo vai me alimentar\n\nTe adorar é o que sustenta-me de pé\nEu não vou, não vou perder a guerra\nTe louvar em meio às tentações\nÉ mais que estratégia\n\nPosso não ver o amanhã\nMas hoje sei\nQue esse deserto vai chegar ao fim\nO Senhor está cuidando de mim\n\nEu não preciso transformar\nPedras em pães para provar\nQue no deserto Tu estás\nCuidando de mim\n\nDe um lugar alto não vou me lançar\nSó pra demonstrar o Teu poder\nEu não preciso ver fenômenos para crer em Ti\n\nNão troco nossa comunhão\nPelo prazer de conquistar\nPalácios, riquezas\nComo um deserto, isso vai passar\n\nPor isso resistindo estou\nE quando a minha força se esgotar\nO Teu anjo vai me alimentar\n\nE Te adorar é o que sustenta-me de pé\nEu não vou, não vou perder a guerra\nTe louvar em meio às tentações\nÉ mais que estratégia\n\nPosso não ver o amanhã\nMas hoje sei\nQue esse deserto vai chegar ao fim\nO Senhor está cuidando de mim\n\nTe adorar é o que sustenta-me de pé\nEu não vou, não vou perder a guerra\nTe louvar em meio às tentações\nÉ mais que estratégia\n\nPosso não ver o amanhã\nMas hoje sei\nQue esse deserto vai chegar ao fim\nO Senhor está cuidando de mim\n",slideWrapper=document.querySelector(".slide-wrapper"),songCredits=document.querySelector("footer span"),LINE_LENGTH=30;function reorganizeStanzas(e){var n=e.split("\n").filter(Boolean),a=n[0],e=n[1];n.shift(),n.shift();var o="",s=0,r=0;return n.forEach(function(e){r+=e.length>LINE_LENGTH?2:1,s+=e.length,(4*LINE_LENGTH<s||4<r)&&(o+="\n",s=e.length,r=e.length>LINE_LENGTH?2:1),o+=e+"\n"}),songCredits.innerText=a+" - "+e,a+"\n"+e+"\n\n"+o}function createSlide(e,n){var a=document.createElement("section"),o=0===e;a.classList.add("slide"),a.classList.add("slide-".concat(String(e).padStart(2,"0"))),o&&a.classList.add("cover"),a.setAttribute("data-slide",e);var s=document.createElement("div");s.classList.add("container"),n.map(function(e){var o=document.createElement("strong");console.log(e,e.length);var n,a=[];e.length<=LINE_LENGTH?a.push(e):(n="",e.split(" ").forEach(function(e){(n+=e+" ").trim().length>LINE_LENGTH&&(a.push(n.slice(0,n.trim().length-e.length).trim()),n=e+" ")}),n.trim().length&&a.push(n.trim())),a.forEach(function(e,n){var a=document.createElement("span");a.innerText=e,o.append(a)}),s.append(o)}),a.append(s),slideWrapper.append(a)}function goToNextSlide(e){var n=document.querySelectorAll(".slide");n[n.length-1]===e||(n.forEach(function(e){return e.classList.remove("active")}),e.nextElementSibling.classList.add("active"),songCredits.classList.contains("hide")&&songCredits.classList.remove("hide"))}function goToPrevSlide(e){var n=document.querySelectorAll(".slide");n[0]===e||(n.forEach(function(e){return e.classList.remove("active")}),"0"===(e=e.previousElementSibling).dataset.slide&&songCredits.classList.add("hide"),e.classList.add("active"))}function init(){var e=reorganizeStanzas(input).split("\n\n");console.log(e),e.forEach(function(e,n){createSlide(n,e.split("\n").filter(Boolean))}),document.querySelector("[data-slide='0']").classList.add("active"),songCredits.classList.add("hide"),window.addEventListener("keydown",function(e){var n=document.querySelector(".slide.active");switch(e.keyCode){case 39:goToNextSlide(n);break;case 37:goToPrevSlide(n)}})}init();