{"version":3,"sources":["src/js/node_modules/browser-pack/_prelude.js","src/js/src/js/main.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","fs","slideWrapper","document","querySelector","LINE_LENGTH","createSlide","id","verses","slideEl","createElement","classList","add","String","padStart","setAttribute","slideContainer","map","verseBackground","let","verseLines","verse","push","concatVerse","verseWords","split","forEach","word","index","slice","trim","console","log","verseEl","innerText","line","append","output","lyric","cleanedLyric","filter","Boolean","size","parsedLyrics","reorganizeStanzas","readFileSync","stanzaSizes","replace","firstSlide","window","addEventListener","activeSlide","event","keyCode","slides","querySelectorAll","slide","remove","nextSlide","nextElementSibling","goToNextSlide","previousElementSibling","goToPrevSlide","init"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,MAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,MAAAO,KAAA,mBAAAF,EAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,K,uBCSA,CACA,MAAAK,EAAAX,EAAA,MAEAY,EAAAC,SAAAC,cAAA,kBACAC,EAAA,GA0BA,SAAAC,EAAAC,EAAAC,GACA,MAAAC,EAAAN,SAAAO,cAAA,WAEAD,EAAAE,UAAAC,IAAA,SACAH,EAAAE,UAAAC,IAAA,SAAAC,OAAAN,GAAAO,SAAA,EAAA,MAEAL,EAAAM,aAAA,aAAAR,GAEA,MAAAS,EAAAb,SAAAO,cAAA,OACAM,EAAAL,UAAAC,IAAA,aAEAJ,EAAAS,IAAA,IACA,MAAAC,EAAAf,SAAAO,cAAA,UAEAS,IAAAC,EAAA,GACA,GAAAC,EAAAvB,QAAAO,EACAe,EAAAE,KAAAD,OACA,CACAF,IAAAI,EAAA,GACA,MAAAC,EAAAH,EAAAI,MAAA,KAEAD,EAAAE,QAAA,CAAAC,EAAAC,KACAL,GAAAI,EAAA,KAGAJ,EAAAzB,OAAAO,GACAuB,IAAAJ,EAAA1B,OAAA,KAEAyB,EAAAzB,OAAAO,EACAe,EAAAE,KACAC,EACAM,MAAA,EAAAN,EAAAO,OAAAhC,OAAA6B,EAAA7B,QACAgC,QAGAV,EAAAE,KAAAC,EAAAO,QAGAP,EAAAI,EAAA,OAIAI,QAAAC,IAAAZ,GAGAA,EAAAM,QAAA,IACA,MAAAO,EAAA9B,SAAAO,cAAA,QACAuB,EAAAC,UAAAC,EAEAjB,EAAAkB,OAAAH,KAGAjB,EAAAoB,OAAAlB,KAGAT,EAAA2B,OAAApB,GACAd,EAAAkC,OAAA3B,IA+BA,WAGA,MAAA4B,EAlHA,SAAAC,GACA,MAAAC,EAAAD,EAAAb,MAAA,MAAAe,OAAAC,SAEAtB,IAAAuB,EAAA,EACAlC,EAAA,EACA,IAAAmC,EAAA,GAgBA,OAdAJ,EAAAb,QAAA,IACAlB,GAAA,EACAkC,GAAArB,EAAAvB,QAEA,IAAA4C,GAAA,EAAAlC,KACAmC,GAAA,KAEAD,EAAArB,EAAAvB,OACAU,EAAA,GAGAmC,GAAAtB,EAAA,OAGAsB,EA6FAC,CAFA3C,EAAA4C,aAAA,UAAA,SAGA,IAAAC,EAAAT,EACAZ,MAAA,QACAR,IAAA,GAAAzB,EAAAuD,QAAA,iBAAA,IAAAjD,QAEAiC,QAAAC,IAAAK,GACAN,QAAAC,IAAAc,GAEA,MAAAE,EAAA7C,SAAAC,cAAA,oBACA4C,EAAArC,UAAAC,IAAA,UAEAN,EAAA,EAAA,CAAA,UAAA,iBACAA,EAAA,EAAA,CACA,qCACA,gCACA,iDAGA2C,OAAAC,iBAAA,UAAA,IACA,IAAAC,EAAAhD,SAAAC,cAAA,iBAEA,OAAAgD,EAAAC,SACA,KAAA,IArDA,SAAAF,GACA,MAAAG,EAAAnD,SAAAoD,iBAAA,UAGA,KAFAD,EAAAA,EAAAxD,OAAA,KAAAqD,GAEA,CAIAG,EAAA5B,QAAA,GAAA8B,EAAA7C,UAAA8C,OAAA,WACA,MAAAC,EAAAP,EAAAQ,mBAEAD,EAAA/C,UAAAC,IAAA,WA2CAgD,CAAAT,GACA,MAEA,KAAA,IA3CA,SAAAA,GACA,MAAAG,EAAAnD,SAAAoD,iBAAA,UAGA,KAFAD,EAAA,KAAAH,GAEA,CAIAG,EAAA5B,QAAA,GAAA8B,EAAA7C,UAAA8C,OAAA,WACA,MAAAC,EAAAP,EAAAU,uBAEAH,EAAA/C,UAAAC,IAAA,WAiCAkD,CAAAX,MAMAY","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// import ColorThief from \"colorthief\";\n\n// ColorThief.getColor(img)\n//   .then((color) => {\n//     console.log(color);\n//   })\n//   .catch((err) => {\n//     console.log(err);\n//   });\n{\n  const fs = require(\"fs\");\n\n  const slideWrapper = document.querySelector(\".slide-wrapper\");\n  const LINE_LENGTH = 30;\n\n  function reorganizeStanzas(lyric) {\n    const cleanedLyric = lyric.split(\"\\n\").filter(Boolean);\n\n    let size = 0;\n    let verses = 0;\n    var parsedLyrics = \"\";\n\n    cleanedLyric.forEach((verse) => {\n      verses += 1;\n      size += verse.length;\n\n      if (size > 150 || verses > 4) {\n        parsedLyrics += \"\\n\";\n\n        size = verse.length;\n        verses = 1;\n      }\n\n      parsedLyrics += verse + \"\\n\";\n    });\n\n    return parsedLyrics;\n  }\n\n  function createSlide(id, verses) {\n    const slideEl = document.createElement(\"section\");\n\n    slideEl.classList.add(\"slide\");\n    slideEl.classList.add(`slide-${String(id).padStart(2, \"0\")}`);\n\n    slideEl.setAttribute(\"data-slide\", id);\n\n    const slideContainer = document.createElement(\"div\");\n    slideContainer.classList.add(\"container\");\n\n    verses.map((verse) => {\n      const verseBackground = document.createElement(\"strong\");\n\n      let verseLines = [];\n      if (verse.length <= LINE_LENGTH) {\n        verseLines.push(verse);\n      } else {\n        let concatVerse = \"\";\n        const verseWords = verse.split(\" \");\n\n        verseWords.forEach((word, index) => {\n          concatVerse += word + \" \";\n\n          if (\n            concatVerse.length > LINE_LENGTH ||\n            index === verseWords.length - 1\n          ) {\n            if (concatVerse.length > LINE_LENGTH) {\n              verseLines.push(\n                concatVerse\n                  .slice(0, concatVerse.trim().length - word.length)\n                  .trim()\n              );\n            } else {\n              verseLines.push(concatVerse.trim());\n            }\n\n            concatVerse = word + \" \";\n          }\n        });\n\n        console.log(verseLines);\n      }\n\n      verseLines.forEach((line) => {\n        const verseEl = document.createElement(\"span\");\n        verseEl.innerText = line;\n\n        verseBackground.append(verseEl);\n      });\n\n      slideContainer.append(verseBackground);\n    });\n\n    slideEl.append(slideContainer);\n    slideWrapper.append(slideEl);\n  }\n\n  function goToNextSlide(activeSlide) {\n    const slides = document.querySelectorAll(\".slide\");\n    const isActiveSlideTheLastOne = slides[slides.length - 1] === activeSlide;\n\n    if (isActiveSlideTheLastOne) {\n      return;\n    }\n\n    slides.forEach((slide) => slide.classList.remove(\"active\"));\n    const nextSlide = activeSlide.nextElementSibling;\n\n    nextSlide.classList.add(\"active\");\n  }\n\n  function goToPrevSlide(activeSlide) {\n    const slides = document.querySelectorAll(\".slide\");\n    const isActiveSlideTheFirstOne = slides[0] === activeSlide;\n\n    if (isActiveSlideTheFirstOne) {\n      return;\n    }\n\n    slides.forEach((slide) => slide.classList.remove(\"active\"));\n    const nextSlide = activeSlide.previousElementSibling;\n\n    nextSlide.classList.add(\"active\");\n  }\n\n  function init() {\n    const input = fs.readFileSync(\"./input\", \"utf8\");\n\n    const output = reorganizeStanzas(input);\n    const stanzaSizes = output\n      .split(\"\\n\\n\")\n      .map((a) => a.replace(/(\\r\\n|\\n|\\r)/gm, \"\").length);\n\n    console.log(output);\n    console.log(stanzaSizes);\n\n    const firstSlide = document.querySelector(\"[data-slide='0']\");\n    firstSlide.classList.add(\"active\");\n\n    createSlide(0, [\"Deserto\", \"Maria Marçal\"]);\n    createSlide(1, [\n      \"De um lugar alto não vou me lançar\",\n      \"Só pra demonstrar o Teu poder\",\n      \"Eu não preciso ver fenômenos para crer em Ti\",\n    ]);\n\n    window.addEventListener(\"keydown\", (event) => {\n      const activeSlide = document.querySelector(\".slide.active\");\n\n      switch (event.keyCode) {\n        case 39:\n          goToNextSlide(activeSlide);\n          break;\n\n        case 37:\n          goToPrevSlide(activeSlide);\n          break;\n      }\n    });\n  }\n\n  init();\n}\n"]}