{"version":3,"sources":["src/js/node_modules/browser-pack/_prelude.js","src/js/src/js/main.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","size","verses","parsedLyrics","fs","slideWrapper","document","querySelector","LINE_LENGTH","createSlide","id","slideEl","createElement","classList","add","concat","String","padStart","setAttribute","slideContainer","map","verse","concatVerse","verseWords","verseBackground","verseLines","push","split","forEach","word","index","slice","trim","console","log","line","verseEl","innerText","append","input","readFileSync","stanzaSizes","output","cleanedLyric","lyric","filter","Boolean","replace","window","addEventListener","event","activeSlide","slides","keyCode","querySelectorAll","slide","remove","nextElementSibling","previousElementSibling"],"mappings":"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","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// import ColorThief from \"colorthief\";\n\n// ColorThief.getColor(img)\n//   .then((color) => {\n//     console.log(color);\n//   })\n//   .catch((err) => {\n//     console.log(err);\n//   });\n\nconst fs = require(\"fs\");\n\nconst slideWrapper = document.querySelector(\".slide-wrapper\");\nconst LINE_LENGTH = 30;\n\nfunction reorganizeStanzas(lyric) {\n  const cleanedLyric = lyric.split(\"\\n\").filter(Boolean);\n\n  let size = 0;\n  let verses = 0;\n  var parsedLyrics = \"\";\n\n  cleanedLyric.forEach((verse) => {\n    verses += 1;\n    size += verse.length;\n\n    if (size > 150 || verses > 4) {\n      parsedLyrics += \"\\n\";\n\n      size = verse.length;\n      verses = 1;\n    }\n\n    parsedLyrics += verse + \"\\n\";\n  });\n\n  return parsedLyrics;\n}\n\nfunction createSlide(id, verses) {\n  const slideEl = document.createElement(\"section\");\n\n  slideEl.classList.add(\"slide\");\n  slideEl.classList.add(`slide-${String(id).padStart(2, \"0\")}`);\n\n  slideEl.setAttribute(\"data-slide\", id);\n\n  const slideContainer = document.createElement(\"div\");\n  slideContainer.classList.add(\"container\");\n\n  verses.map((verse) => {\n    const verseBackground = document.createElement(\"strong\");\n\n    let verseLines = [];\n    if (verse.length <= LINE_LENGTH) {\n      verseLines.push(verse);\n    } else {\n      let concatVerse = \"\";\n      const verseWords = verse.split(\" \");\n\n      verseWords.forEach((word, index) => {\n        concatVerse += word + \" \";\n\n        if (\n          concatVerse.length > LINE_LENGTH ||\n          index === verseWords.length - 1\n        ) {\n          if (concatVerse.length > LINE_LENGTH) {\n            verseLines.push(\n              concatVerse\n                .slice(0, concatVerse.trim().length - word.length)\n                .trim()\n            );\n          } else {\n            verseLines.push(concatVerse.trim());\n          }\n\n          concatVerse = word + \" \";\n        }\n      });\n\n      console.log(verseLines);\n    }\n\n    verseLines.forEach((line) => {\n      const verseEl = document.createElement(\"span\");\n      verseEl.innerText = line;\n\n      verseBackground.append(verseEl);\n    });\n\n    slideContainer.append(verseBackground);\n  });\n\n  slideEl.append(slideContainer);\n  slideWrapper.append(slideEl);\n}\n\nfunction goToNextSlide(activeSlide) {\n  const slides = document.querySelectorAll(\".slide\");\n  const isActiveSlideTheLastOne = slides[slides.length - 1] === activeSlide;\n\n  if (isActiveSlideTheLastOne) {\n    return;\n  }\n\n  slides.forEach((slide) => slide.classList.remove(\"active\"));\n  const nextSlide = activeSlide.nextElementSibling;\n\n  nextSlide.classList.add(\"active\");\n}\n\nfunction goToPrevSlide(activeSlide) {\n  const slides = document.querySelectorAll(\".slide\");\n  const isActiveSlideTheFirstOne = slides[0] === activeSlide;\n\n  if (isActiveSlideTheFirstOne) {\n    return;\n  }\n\n  slides.forEach((slide) => slide.classList.remove(\"active\"));\n  const nextSlide = activeSlide.previousElementSibling;\n\n  nextSlide.classList.add(\"active\");\n}\n\nfunction init() {\n  const input = fs.readFileSync(\"./input\", \"utf8\");\n\n  const output = reorganizeStanzas(input);\n  const stanzaSizes = output\n    .split(\"\\n\\n\")\n    .map((a) => a.replace(/(\\r\\n|\\n|\\r)/gm, \"\").length);\n\n  console.log(output);\n  console.log(stanzaSizes);\n\n  const firstSlide = document.querySelector(\"[data-slide='0']\");\n  firstSlide.classList.add(\"active\");\n\n  createSlide(0, [\"Deserto\", \"Maria Marçal\"]);\n  createSlide(1, [\n    \"De um lugar alto não vou me lançar\",\n    \"Só pra demonstrar o Teu poder\",\n    \"Eu não preciso ver fenômenos para crer em Ti\",\n  ]);\n\n  window.addEventListener(\"keydown\", (event) => {\n    const activeSlide = document.querySelector(\".slide.active\");\n\n    switch (event.keyCode) {\n      case 39:\n        goToNextSlide(activeSlide);\n        break;\n\n      case 37:\n        goToPrevSlide(activeSlide);\n        break;\n    }\n  });\n}\n\ninit();\n"]}